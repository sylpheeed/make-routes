var MakeRoutes=(function(){var m=undefined;var b=undefined;var c=false;function e(p){var x=arguments[1]===undefined?"":arguments[1];var y=arguments[2]===undefined?false:arguments[2];var z={};var o="";if(y){o=x?""+x+"/"+y:y}function n(C,B){for(var A in B){var E=false;if(a(B[A]).isFunction()){E=B[A]}else{if(B[A].to){E=B[A].to;A=j(B[A])||A}}var D=[].slice.call(arguments,2);z[A]=v.apply(this,[C,A,E].concat(D))}}function u(A){var C=""+o+"/:"+y+"_id";var B=p[A];n(C,B)}function r(A){var B=o;var C=p[A];n(B,C,true)}function v(C,B,E){var D=arguments[3];if(!D){switch(B){case"show":B=":id";break;case"edit":B=":id/edit";break;case"index":B=false;break}}if(!C){C=B;B=false}C=B?"/"+C+"/"+B:"/"+C;var A={path:C,to:E};if(c){A._extra=c}return A}for(var w in p){c=false;var q=p[w];var s=a(q);if(s.isFunction()||s.isString()){z[w]=v(o,w,q)}else{if(s.isObject()){c=q._extra?q._extra:false;var t=q.path?j(q):w;s=a(w);if(q.to){z[w]=v(o,t,q.to)}else{if(s.isMember()){u(w)}else{if(s.isCollection()){r(w)}else{z[w]=e(p[w],o,t)}}}}}}return z}function d(){var s=arguments[0]===undefined?m:arguments[0];var o=arguments[1]===undefined?false:arguments[1];for(var q in s){var r=s[q];var n=false;var p=false;if(r.path){n={path:r.path,to:r.to};delete s[q].path;delete s[q].to}var t=o?""+o+"_"+q:q;if(s[q]._extra){p=s[q]._extra;delete s[q]._extra}if(a(s[q]).isEmpty()){m[t]=n;if(p){m[t]._extra=p}}else{d(s[q],t);delete s[q]}}}function a(q){return{isFunction:function s(){return typeof q==="function"},isString:function s(){return typeof q==="string"},isObject:function n(){return q!==null&&typeof q==="object"},isEmpty:function r(){return Object.keys(q).length===0},isMember:function p(){return q==="member"},isCollection:function o(){return q==="collection"}}}function j(n){return n.path?n.path.split("/")[1]:false}var h=function h(o,q){function p(r){if(q){for(var s in q){r=r.replace(":"+s,q[s])}}return r}function n(){if(b[o]){return true}else{console.warn("Invalid route name: ",o);return false}}return n()?p(b[o].path):""};function i(n){m=e(n);d(m);b=m}return{init:function l(n){i(n)},all:function g(){return b},showRoutes:function k(){var o={};for(var n in b){o[n]=b[n].path}return o},route:function f(n,o){return h(n,o)}}})();