var MakeRoutes=(function(){var l=undefined;var b=undefined;function d(n){var t=arguments[1]===undefined?"":arguments[1];var u=arguments[2]===undefined?false:arguments[2];var v={};var m="";if(u){m=t?""+t+"/"+u:u}function q(x){var A=""+m+"/:"+u+"_id";var z=n[x];for(var w in z){var y=false;if(a(z[w]).isFunction()){y=z[w]}else{if(z[w].to){y=z[w].to;w=j(z[w])||w}}v[w]=r(A,w,y)}}function r(x,w,y){switch(w){case"show":w=":id";break;case"edit":w=":id/edit";break;case"index":w=false;break}if(!x){x=w;w=false}x=w?"/"+x+"/"+w:"/"+x;return{path:x,to:y}}for(var s in n){var o=n[s];if(a(o).isFunction()){v[s]=r(m,s,o)}else{if(a(o).isObject()){var p=o.path?j(o):s;if(o.to){v[s]=r(m,p,o.to)}else{if(a(s).isMember()){q(s)}else{v[s]=d(n[s],m,p)}}}}}return v}function c(){var q=arguments[0]===undefined?l:arguments[0];var n=arguments[1]===undefined?false:arguments[1];for(var o in q){var p=q[o];var m=false;if(p.path){m={path:p.path,to:p.to};delete q[o].path;delete q[o].to}var r=n?""+n+"_"+o:o;if(a(q[o]).isEmpty()){l[r]=m}else{c(q[o],r);delete q[o]}}}function a(p){return{isFunction:function r(){return typeof p==="function"},isObject:function m(){return p!==null&&typeof p==="object"},isEmpty:function q(){return Object.keys(p).length===0},isMember:function o(){return p==="member"},isCollection:function n(){return p==="collection"}}}function j(m){return m.path?m.path.split("/")[1]:false}var g=function g(n,p){function o(q){if(p){for(var r in p){q=q.replace(":"+r,p[r])}}return q}function m(){if(b[n]){return true}else{console.warn("Invalid route name: ",n);return false}}return m()?o(b[n].path):""};function i(m){l=d(m);c(l);b=l}return{init:function k(m){i(m)},all:function f(){return b},showRoutes:function h(){var n={};for(var m in b){n[m]=b[m].path}return n},route:function e(m,n){return g(m,n)}}})();