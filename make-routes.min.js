var MakeRoutes=(function(){var l=undefined;var b=undefined;function d(n){var v=arguments[1]===undefined?"":arguments[1];var w=arguments[2]===undefined?false:arguments[2];var x={};var m="";if(w){m=v?""+v+"/"+w:w}function p(A,z){for(var y in z){var C=false;if(a(z[y]).isFunction()){C=z[y]}else{if(z[y].to){C=z[y].to;y=i(z[y])||y}}var B=[].slice.call(arguments,2);x[y]=t.apply(this,[A,y,C].concat(B))}}function s(y){var A=""+m+"/:"+w+"_id";var z=n[y];p(A,z)}function q(y){var z=m;var A=n[y];p(z,A,true)}function t(z,y,B){var A=arguments[3];if(!A){switch(y){case"show":y=":id";break;case"edit":y=":id/edit";break;case"index":y=false;break}}if(!z){z=y;y=false}z=y?"/"+z+"/"+y:"/"+z;return{path:z,to:B}}for(var u in n){var o=n[u];if(a(o).isFunction()){x[u]=t(m,u,o)}else{if(a(o).isObject()){var r=o.path?i(o):u;if(o.to){x[u]=t(m,r,o.to)}else{if(a(u).isMember()){s(u)}else{if(a(u).isCollection()){q(u)}else{x[u]=d(n[u],m,r)}}}}}}return x}function c(){var q=arguments[0]===undefined?l:arguments[0];var n=arguments[1]===undefined?false:arguments[1];for(var o in q){var p=q[o];var m=false;if(p.path){m={path:p.path,to:p.to};delete q[o].path;delete q[o].to}var r=n?""+n+"_"+o:o;if(a(q[o]).isEmpty()){l[r]=m}else{c(q[o],r);delete q[o]}}}function a(p){return{isFunction:function r(){return typeof p==="function"},isObject:function m(){return p!==null&&typeof p==="object"},isEmpty:function q(){return Object.keys(p).length===0},isMember:function o(){return p==="member"},isCollection:function n(){return p==="collection"}}}function i(m){return m.path?m.path.split("/")[1]:false}var g=function g(n,p){function o(q){if(p){for(var r in p){q=q.replace(":"+r,p[r])}}return q}function m(){if(b[n]){return true}else{console.warn("Invalid route name: ",n);return false}}return m()?o(b[n].path):""};function h(m){l=d(m);c(l);b=l}return{init:function k(m){h(m)},all:function f(){return b},showRoutes:function j(){var n={};for(var m in b){n[m]=b[m].path}return n},route:function e(m,n){return g(m,n)}}})();