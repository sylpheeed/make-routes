var MakeRoutes=(function(){var l=undefined;var c=undefined;var d=false;function f(o){var w=arguments[1]===undefined?"":arguments[1];var x=arguments[2]===undefined?false:arguments[2];var y={};var n="";if(x){n=w?""+w+"/"+x:x}function m(B,A){for(var z in A){var D=false;if(b(A[z]).isFunction()){D=A[z]}else{if(A[z].to){D=A[z].to;z=j(A[z])||z}}var C=[].slice.call(arguments,2);y[z]=u.apply(this,[B,z,D].concat(C))}}function t(z){var B=""+n+"/:"+x+"_id";var A=o[z];m(B,A)}function q(z){var A=n;var B=o[z];m(A,B,true)}function u(B,A,D){var C=arguments[3];if(!C){switch(A){case"show":A=":id";break;case"edit":A=":id/edit";break;case"index":A=false;break}}if(!B){B=A;A=false}B=A?"/"+B+"/"+A:"/"+B;var z={path:B,to:D};if(d){z._extra=d}return z}for(var v in o){d=false;var p=o[v];var r=b(p);if(r.isFunction()||r.isString()){y[v]=u(n,v,p)}else{if(r.isObject()){d=p._extra?p._extra:false;var s=p.path?j(p):v;r=b(v);if(p.to){y[v]=u(n,s,p.to)}else{if(r.isMember()){t(v)}else{if(r.isCollection()){q(v)}else{y[v]=f(o[v],n,s)}}}}}}return y}function e(){var r=arguments[0]===undefined?l:arguments[0];var n=arguments[1]===undefined?false:arguments[1];for(var p in r){var q=r[p];var m=false;var o=false;if(q.path){m={path:q.path,to:q.to};delete r[p].path;delete r[p].to}var s=n?""+n+"_"+p:p;if(r[p]._extra){o=r[p]._extra;delete r[p]._extra}if(b(r[p]).isEmpty()){l[s]=m;if(o){l[s]._extra=o}}else{e(r[p],s);delete r[p]}}}function b(p){return{isFunction:function r(){return typeof p==="function"},isString:function r(){return typeof p==="string"},isObject:function m(){return p!==null&&typeof p==="object"},isEmpty:function q(){return Object.keys(p).length===0},isMember:function o(){return p==="member"},isCollection:function n(){return p==="collection"}}}function j(m){return m.path?m.path.split("/")[1]:false}var h=function h(n,p){function o(q){if(p){for(var r in p){q=q.replace(":"+r,p[r])}}return q}function m(){if(c[n]){return true}else{console.warn("Invalid route name: ",n);return false}}return m()?o(c[n].path):""};function i(m){l=f(m);e(l);c=l}var a={showRoutes:function(){var n={};for(var m in c){n[m]=c[m].path}return n},each:function(o,n){for(var m in c){o(c[m],m)}if(n){n()}}};return{init:function k(m){i(m);return this},all:function g(){return c},route:h,showRoutes:a.showRoutes,each:a.each}})();